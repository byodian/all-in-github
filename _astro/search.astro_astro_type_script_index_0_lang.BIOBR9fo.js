const S="modulepreload",w=function(r){return"/all-in-github/"+r},h={},y=function(a,u,d){let f=Promise.resolve();if(u&&u.length>0){let n=function(e){return Promise.all(e.map(o=>Promise.resolve(o).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),i=t?.nonce||t?.getAttribute("nonce");f=n(u.map(e=>{if(e=w(e),e in h)return;h[e]=!0;const o=e.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${l}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":S,o||(s.as="script"),s.crossOrigin="",s.href=e,i&&s.setAttribute("nonce",i),document.head.appendChild(s),o)return new Promise((p,g)=>{s.addEventListener("load",p),s.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${e}`)))})}))}function c(n){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=n,window.dispatchEvent(t),!t.defaultPrevented)throw n}return f.then(n=>{for(const t of n||[])t.status==="rejected"&&c(t.reason);return a().catch(c)})};function m(){const r=document.querySelector("#pagefind-search");if(!r)return;const a=new URLSearchParams(window.location.search);(window.requestIdleCallback||(d=>setTimeout(d,1)))(async()=>{const{PagefindUI:d}=await y(async()=>{const{PagefindUI:e}=await import("./ui-core.400nM4Gs.js");return{PagefindUI:e}},[]),f=new d({element:"#pagefind-search",showSubResults:!0,showImages:!1,processTerm:function(e){a.set("q",e),history.replaceState(history.state,"","?"+a.toString());const o=r?.dataset?.backurl;return sessionStorage.setItem("backUrl",o+"?"+a.toString()),e}}),c=a.get("q");c&&f.triggerSearch(c);const n=document.querySelector(".pagefind-ui__search-input"),t=document.querySelector(".pagefind-ui__search-clear");n?.addEventListener("input",i),t?.addEventListener("click",i);function i(e){e.target?.value.trim()===""&&history.replaceState(history.state,"",window.location.pathname)}})}document.addEventListener("astro:after-swap",()=>{const r=document.querySelector("#pagefind-search");r&&r.querySelector("form")||m()});m();export{y as _};
